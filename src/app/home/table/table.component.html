<div class="table-page">
	<div class="nav">
		<ul>
      <li class="active">全部餐桌</li>
    </ul>
	</div>
	<div class="content">
		<div class="row">
			<div class="col-xs-8 menu_list">
				<div class="operation row">
					<div class="col-xs-4 col-md-3">
						<div class="t">
							<i class="t0"></i>
							<span>空闲(111)</span>
						</div>
					</div>
					<div class="col-xs-4 col-md-3">
						<div class="t">
							<i class="t1"></i>
							<span>已开台(111)</span>
						</div>
					</div>
					<div class="col-xs-4 col-md-3">
						<div class="t">
							<i class="t2"></i>
							<span>已下单(111)</span>
						</div>
					</div>
					<div class="col-xs-4 col-md-3">
						<div class="t">
							<i class="t3"></i>
							<span>已结账(111)</span>
						</div>
					</div>
				</div>
				<div class="menu_box">
					<div id="sell_out" class="row menu" *ngIf="desk">
						<ng-container *ngFor="let data of desk;let index=index">
							<div class="col-xs-4 col-md-3 col-lg-2 shop">
								<div class="shop_box {{'table'+data.status}}" (click)="select(data)">
									<div class="img">
										<i></i>
									</div>
									<p>{{data.table_num}}</p>
									<p>{{data.people || '0'}}人/{{data.max}}人桌</p>
									<p>123</p>
									<div class="select" *ngIf="select_desk.table_id==data.table_id">
										<i *ngIf="!isMove"></i>
										<i class="move" *ngIf="isMove"></i>
									</div>
								</div>
							</div>
						</ng-container>
					</div>
				</div>
			</div>
			<!--menu_list end-->
			<div class="col-xs-4 order_list">
				<div>
					<span *ngIf="select_desk.status!=2">订单详情</span>
					<span class="isTrue" *ngIf="select_desk.status==2" (click)="details()">订单详情</span>
				</div>
				<div>
					<em *ngIf="select_desk.status<=0">移台</em>
					<em *ngIf="select_desk.status<=0">清台</em>
					<em class="isTrue" *ngIf="select_desk.status>0" (click)="move()">移台</em>
					<em class="isTrue" *ngIf="select_desk.status>0" (click)="clear()">清台</em>
				</div>
				<div>
					<em *ngIf="select_desk.status!=2">修改人数</em>
					<em *ngIf="select_desk.status!=1">点单</em>
					<em class="isTrue" *ngIf="select_desk.status==2" (click)="open()">修改人数</em>
					<em class="isTrue" *ngIf="select_desk.status==1" routerLink="/home/shop/{{select_desk.table_id +'#'+ select_desk.people}}">点单</em>
				</div>
				<div>
					<span *ngIf="select_desk.status!=2">结账</span>
					<span class="isTrue" *ngIf="select_desk.status==2" (click)="toCheckout()">结账</span>
				</div>
				<div>
					<span *ngIf="select_desk.status!=0">开台</span>
					<span class="isTrue" *ngIf="select_desk.status==0" (click)="open()">开台</span>
				</div>
			</div>
			<!--order_list end-->
		</div>
	</div>
</div>
<!--修改人数-->
<div class="shield-layer" *ngIf="shield">
	<div class="box">
		<div class="top">
			<span>开台人数</span>
			<i (click)="hide()"></i>
		</div>
		<div>
			<div class="text">
				<span>桌台名称：</span>
			</div>
			<div>
				<em>{{select_desk.table_num}}</em>
			</div>
		</div>
		<div>
			<div class="text">
				<span>餐台人数：</span>
			</div>
			<div>
				<input [(ngModel)]="peoples" />人
			</div>
		</div>
		<div>
			<div class="text">
				
			</div>
			<div class="choose">
				<span (click)="hide()">取消</span><span class="confirm" (click)="confirm()">确定</span>
			</div>
		</div>
	</div>
</div>
<!--清台密码确认-->
<div class="shield-layer" *ngIf="toClear">
	<div class="box">
		<div class="top">
			<span>清台</span>
			<i (click)="hide()"></i>
		</div>
		<div>
			<div class="text">
			</div>
			<div>
				<em>确定要清台吗?</em>
			</div>
		</div>
		<div>
			<div class="text">
				<span>密码：</span>
			</div>
			<div>
				<input type="password" [(ngModel)]="password" />
			</div>
		</div>
		<div>
			<div class="text">
				
			</div>
			<div class="choose">
				<span (click)="hide()">取消</span><span class="confirm" (click)="clear_table()">确定</span>
			</div>
		</div>
	</div>
</div>
<!--订单详情-->
<div class="shield-layer" *ngIf="orderDetails">
	<div class="box box1">
		<div class="top">
			<span>订单详情</span>
			<i (click)="hide()"></i>
		</div>
		<div>
			<div class="count">
				<span>数量：{{dish.length}}</span>
				<span class="c_right">金额：{{totalPrice}}</span>
			</div>	
		</div>
		<div>
			<div class="ul">
				<ul>
					<ng-container *ngFor="let data of dish;let index=index">
						<li>
							<em *ngIf="index<9">0{{index + 1}}</em>
							<em *ngIf="index>=9">{{index + 1}}</em>
							<span class="name">{{data.goodsName}}</span>
							<span class="number">{{data.num}}</span>
							<span class="price">￥{{data.price}}</span>
						</li>
					</ng-container>	
				</ul>
			</div>
		</div>
		<div>
			<div class="text">
				
			</div>
			<div class="choose">
				<span class="confirm">退菜</span><span class="confirm">退单</span>
			</div>
		</div>
	</div>
</div>
<!--结账-->
<div class="shield-layer" *ngIf="checkout">
	<div class="box box2">
		<div class="top">
			<span>结账</span>
			<i (click)="hide()"></i>
		</div>
		<div class="box_content">
			<div class="left">
				<div class="title">
					订单详情
				</div>
				<div class="div">
					<div>
						<span>订单序号：{{select_desk.out_trade_no}}</span><em>桌号：{{select_desk.table_num}}</em>
					</div>
					<div>
						<span>下单时间：111</span><em>人数：{{select_desk.people}}</em>
					</div>
				</div>
				<div class="ul">
					<ul>
						<ng-container *ngFor="let data of dish;let index=index">
							<li>
								<em *ngIf="index<9">0{{index + 1}}</em>
								<em *ngIf="index>=9">{{index + 1}}</em>
								<span class="name">{{data.goodsName}}</span>
								<span class="number">{{data.num}}</span>
								<span class="price">￥{{data.price}}</span>
							</li>
						</ng-container>	
					</ul>
				</div>
				<div class="count">
					<span>数量：{{dish.length}}</span>
					<span class="c_right">金额：{{totalPrice}}</span>
				</div>
			</div>
			<div class="right">
				<div class="title">
					结算
				</div>
			</div>	
		</div>
	</div>
</div>