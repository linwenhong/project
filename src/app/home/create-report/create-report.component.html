<h4 class="text-center">创建报告</h4>
<div class="page">

  <a routerLink="/home">home</a>

  <div class="project" *ngIf="reportForm">
    <form [formGroup]="reportForm" novalidate (ngSubmit)="submit(reportForm)">
      <div class="form-group">
        <label>报告名称：</label>
        <input [class.invalid]="isSubmit && reportForm.get('name').invalid"
               formControlName="name" type="text" class="form-control input" placeholder="请输入工程名称" />
      </div>

      <div class="form-group">
        <label>项目名称：</label>

        <select class="form-control" formControlName="project">
          <option *ngFor="let project of projects" [value]="project.id">{{ project.name }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>报告类型：</label>

        <select class="form-control" formControlName="type">
          <option *ngFor="let type of types" [value]="type.id">{{ type.text }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>报告格式：</label>

        <select class="form-control" formControlName="format">
          <option *ngFor="let format of formats" [value]="format.id">{{ format.text }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>样品/记录编号：</label>
        <input [class.invalid]="isSubmit && reportForm.get('record_number').invalid"
               formControlName="record_number" type="text" class="form-control input" placeholder="请输入委托编号" />
      </div>

      <div class="form-group">
        <label>盲样编号：</label>
        <input [class.invalid]="isSubmit && reportForm.get('blind_sample_number').invalid"
               formControlName="blind_sample_number" type="text" class="form-control input" placeholder="请输入委托项目名称" />
      </div>

      <div class="form-group">
        <label>要素：</label>
        <input [class.invalid]="isSubmit && reportForm.get('element').invalid"
               formControlName="element" type="text" class="form-control input" placeholder="请输入检测要求和依据" />
      </div>



      <shengxiang-user-select
        [editForm]="getFormValue(reportForm)"
        [editFormName]="'reportForm'"
        [text]="'负责人'"
        [userId]="reportForm.get('person_in_charge').value"
        [key]="'person_in_charge'"
        [url]="'/home/create-report'"
      ></shengxiang-user-select>

      <div class="text-center btns">
        <input type="submit">
        <input type="button" value="清空" (click)="revert()" />
      </div>
    </form>
  </div>
</div>
