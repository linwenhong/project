<app-page-header
  [title]="'合同详情'"
  [url]="'/home/project-list'"
></app-page-header>

<div class="form-page fixed">
  <div class="page">
    <div *ngIf="project" class="project">
      <div class="form-group">
        <label>工程名称：</label>
        <input disabled class="form-control" [value]="project.project_name" type="text" />
      </div>

      <div class="form-group">
        <label>合同编号：</label>
        <input disabled class="form-control" [value]="project.contract_num" type="text" />
      </div>

      <div class="form-group">
        <label>甲方名称：</label>
        <input disabled class="form-control" [value]="project.party_a" type="text" />
      </div>

      <div class="form-group">
        <label>签订日期：</label>
        <input disabled class="form-control" [value]="project.sign_date" type="text" />
      </div>

      <div class="form-group">
        <label>工期：</label>
        <input disabled class="form-control" [value]="project.limit_time" type="text" />
      </div>

      <div class="form-group">
        <label>预计完成时间：</label>
        <input disabled class="form-control" [value]="project.finish_time" type="text" />
      </div>

      <div class="form-group">
        <label>要求进场时间：</label>
        <input disabled class="form-control" [value]="project.entry_time" type="text" />
      </div>

      <div class="form-group">
        <label>合同金额：</label>
        <input disabled class="form-control" [value]="project.contract_amount" type="text" />
      </div>

      <div class="form-group">
        <label>合同文件：</label>
        <input disabled class="form-control" [value]="project.contract_files" type="text" />
      </div>

      <div class="form-group">
        <label>合同状态：</label>
        <input disabled class="form-control" [value]="project.status" type="text" />
      </div>

      <div class="form-group">
        <label>负责部门：</label>
        <input disabled class="form-control" [value]="project.dp_id" type="text" />
      </div>

      <div class="form-group">
        <label>负责人：</label>
        <input disabled class="form-control" [value]="project.people" type="text" />
      </div>

      <div class="form-group">
        <label>合同类型：</label>
        <input disabled class="form-control" [value]="project.contract_type" type="text" />
      </div>

      <div class="form-group">
        <label>检测项目名称：</label>
        <input disabled class="form-control" [value]="project.contract_item" type="text" />
      </div>

      <div class="form-group">
        <label>检测项目参数：</label>
        <input disabled class="form-control" [value]="project.contract_params" type="text" />
      </div>

      <div class="form-group">
        <label>备注：</label>
        <input disabled class="form-control" [value]="project.audit" type="text" />
      </div>

      <div *ngIf="procedureIndex > 1">
        <app-user-select
          [canEditUser]="false"
          [editForm]="project"
          [key]="'author'"
          [text]="'生产经营部新建'"
        ></app-user-select>
      </div>

      <div *ngIf="procedureIndex > 2">
        <app-user-select
          [canEditUser]="false"
          [editForm]="project"
          [key]="'checker'"
          [text]="'生产经营部合同核查'"
        ></app-user-select>
      </div>

      <div *ngIf="procedureIndex > 3">
        <app-user-select
          [canEditUser]="false"
          [editForm]="project"
          [key]="'for_instance'"
          [text]="'检测部门经理详审'"
        ></app-user-select>
      </div>

      <div *ngIf="procedureIndex > 4">
        <app-user-select
          [canEditUser]="false"
          [editForm]="project"
          [key]="'manage_instance'"
          [text]="'副总经理详审核'"
        ></app-user-select>
      </div>

      <div *ngIf="procedureIndex > 5">
        <app-user-select
          [canEditUser]="false"
          [editForm]="project"
          [key]="'examine'"
          [text]="'总经理审核'"
        ></app-user-select>
      </div>

      <div *ngIf="procedureIndex > 6">
        <app-user-select
          [canEditUser]="false"
          [editForm]="project"
          [key]="'leader'"
          [text]="'董事长批准'"
        ></app-user-select>
      </div>

    </div>
  </div>
</div>

<ng-container *ngIf="!isDetails && procedureIndex">
  <div class="options_top_null"></div>
  <div class="options" *ngIf="procedureIndex != 1">
    <div class="confirm" (click)="options(true)">同意</div>
    <div class="refuse"  (click)="options(false)">拒绝</div>
  </div>
  <div class="options" *ngIf="procedureIndex == 1">
    <div class="confirm allWidth" (click)="options(true)">提交</div>
  </div>
</ng-container>
